[{"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\index.js":"1","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\reportWebVitals.js":"2","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\App.js":"3","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\Main.js":"4","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\Home.js":"5","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\Signin.js":"6","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\Splash.js":"7","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\Signup.js":"8","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\PayoutSetupCallback.js":"9","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\PasswordReset.js":"10","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\Models.js":"11","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\Navbar.js":"12","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\SearchLocationInput.js":"13","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\PayoutSetup.js":"14","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Dashboard.js":"15","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\helpers\\Api.js":"16","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Customers.js":"17","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Orders.js":"18","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\listItems.js":"19","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Businesses.js":"20","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\HomeSplash.js":"21","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Title.js":"22","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Chart.js":"23","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Sales.js":"24"},{"size":663,"mtime":1615229785187,"results":"25","hashOfConfig":"26"},{"size":375,"mtime":1615229785203,"results":"27","hashOfConfig":"26"},{"size":183,"mtime":1615821982805,"results":"28","hashOfConfig":"26"},{"size":1062,"mtime":1615229785179,"results":"29","hashOfConfig":"26"},{"size":1233,"mtime":1615766886084,"results":"30","hashOfConfig":"26"},{"size":4268,"mtime":1615817457842,"results":"31","hashOfConfig":"26"},{"size":5980,"mtime":1615767348956,"results":"32","hashOfConfig":"26"},{"size":26203,"mtime":1615767334829,"results":"33","hashOfConfig":"26"},{"size":434,"mtime":1615229785195,"results":"34","hashOfConfig":"26"},{"size":4287,"mtime":1615766898641,"results":"35","hashOfConfig":"26"},{"size":12941,"mtime":1615767147135,"results":"36","hashOfConfig":"26"},{"size":2095,"mtime":1615767161805,"results":"37","hashOfConfig":"26"},{"size":1863,"mtime":1615229785187,"results":"38","hashOfConfig":"26"},{"size":3678,"mtime":1615766963962,"results":"39","hashOfConfig":"26"},{"size":6850,"mtime":1615766799636,"results":"40","hashOfConfig":"26"},{"size":3621,"mtime":1615766684619,"results":"41","hashOfConfig":"26"},{"size":3959,"mtime":1615817223517,"results":"42","hashOfConfig":"26"},{"size":5353,"mtime":1615817433709,"results":"43","hashOfConfig":"26"},{"size":2756,"mtime":1615229785203,"results":"44","hashOfConfig":"26"},{"size":4102,"mtime":1615817225083,"results":"45","hashOfConfig":"26"},{"size":571,"mtime":1615766809684,"results":"46","hashOfConfig":"26"},{"size":358,"mtime":1615229785203,"results":"47","hashOfConfig":"26"},{"size":18453,"mtime":1615828157821,"results":"48","hashOfConfig":"26"},{"size":498,"mtime":1615817373948,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"310x4g",{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"98","messages":"99","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100"},"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\index.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\reportWebVitals.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\App.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\Main.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\Home.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\Signin.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\Splash.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\Signup.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\PayoutSetupCallback.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\PasswordReset.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\Models.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\Navbar.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\SearchLocationInput.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\PayoutSetup.js",["101"],"import React, { useState, useEffect } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport API from \"../helpers/Api.js\";\r\nimport bankIcon from \"../static/icon-bank.svg\";\r\nimport { Business, setLocalStorage } from \"../Models.js\";\r\n\r\nconst PayoutSetup = (props) => {\r\n  const [redirect, setRedirect] = useState(null);\r\n  var redirectUrl = null;\r\n  const getRedirectInfo = async () => {\r\n    return API.makeRequest(\"GET\", `/create-stripe-account`);\r\n  };\r\n  const onSubmit = async (event, merchantStripeId) => {\r\n    event.preventDefault();\r\n    if (localStorage.getItem(\"business\")) {\r\n      const currentBusiness = new Business(\r\n        localStorage.getItem(\"business\"),\r\n        true\r\n      );\r\n      setLocalStorage(\"business\", currentBusiness);\r\n\r\n      const dataObject = { business: currentBusiness };\r\n      let result = await API.makeRequest(\r\n        \"POST\",\r\n        \"/signup-redirect\",\r\n        dataObject,\r\n        false\r\n      );\r\n      return true;\r\n    } else {\r\n      console.log(\"No user business found\");\r\n    }\r\n  };\r\n  const handleConnect = async () => {\r\n    let responseBody = await getRedirectInfo();\r\n    const merchantStripeId = responseBody.stripe_id;\r\n    let url = responseBody.url;\r\n    if (url && merchantStripeId) {\r\n      redirectUrl = url;\r\n      return merchantStripeId;\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    //had to do this because memory leak due to component not unmounting properly\r\n    let mount = true;\r\n    if (mount && redirect) {\r\n      window.location.assign(redirect);\r\n    }\r\n\r\n    return () => (mount = false);\r\n  }, [redirect]);\r\n\r\n  if (props.callback) {\r\n    return (\r\n      <>\r\n        <div className=\"text-center box\">\r\n          <img src={bankIcon} alt=\"\" className=\"icon\" />\r\n          <h5 style={{ marginTop: \"5%\", marginBottom: \"5%\" }}>\r\n            Stripe account onboarding incomplete\r\n          </h5>\r\n          <p>\r\n            Please click the button below to be redirected to Stripe to complete\r\n            the onboarding proces\r\n          </p>\r\n\r\n          <Button\r\n            className=\"btn btn-primary text-center\"\r\n            onClick={(event) => {\r\n              // if this is the payout redirect then all values for business and merchant have been set in the backend and we dont need to propogate back upwards\r\n              handleConnect().then((merchantStripeId) =>\r\n                onSubmit(event, merchantStripeId).then((result) => {\r\n                  // setRedirect(redirectUrl);\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            Set up payouts\r\n          </Button>\r\n        </div>\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className=\"text-center box\">\r\n          <div className=\"fs-title\">\r\n            Input your bank account to recieve payouts\r\n          </div>\r\n          <img src={bankIcon} alt=\"\" className=\"icon\" />\r\n\r\n          <p>\r\n            QuickBev partners with Stripe to transfer earnings to your bank\r\n            account.\r\n          </p>\r\n\r\n          <Button\r\n            className=\"btn btn-primary text-center\"\r\n            onClick={(event) => {\r\n              handleConnect().then((merchantStripeId) =>\r\n                props\r\n                  .onSubmit(event, merchantStripeId, false)\r\n                  .then((result) => {\r\n                    setRedirect(redirectUrl);\r\n                  })\r\n              );\r\n            }}\r\n          >\r\n            Set up payouts\r\n          </Button>\r\n\r\n          <p className=\"text-center notice\">\r\n            You'll be redirected to Stripe to complete the onboarding proces.\r\n          </p>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default PayoutSetup;\r\n","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Dashboard.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\helpers\\Api.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Customers.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Orders.js",["102","103","104"],"import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Title from \"./Title\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport { Order, OrderDrink } from \"../../Models\";\r\nimport { CSVLink } from \"react-csv\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    width: \"100%\",\r\n  },\r\n});\r\nconst capitalize = (word) => {\r\n  return word.charAt(0).toUpperCase() + word.substring(1);\r\n};\r\nconst toCapitalizedWords = (name) => {\r\n  var words = name.match(/[A-Za-z][a-z]*/g) || [];\r\n\r\n  return words.map(capitalize).join(\" \");\r\n};\r\nconst Orders = (props) => {\r\n  const classes = useStyles();\r\n  const mappedOrders = props.orders.map((orderJSON) => {\r\n    return new Order(orderJSON);\r\n  });\r\n  const formattedMappedOrders = mappedOrders.map((order) => {\r\n    order.cost = Math.round(order.cost);\r\n    order.subtotal = Math.round(order.subtotal);\r\n    order.tipAmount = Math.round(order.tipAmount);\r\n    order.salesTax = Math.round(order.salesTax);\r\n    order.serviceFee = Math.round(order.serviceFee);\r\n    const orderBusiness = props.businesses.filter(\r\n      (business) => order.businessId === business.id\r\n    );\r\n    order.businessName = orderBusiness[0].name;\r\n    return order;\r\n  });\r\n  formattedMappedOrders.sort((a, b) => {\r\n    const aDate = new Date(a.dateTime);\r\n    const bDate = new Date(b.dateTime);\r\n    return bDate.getTime() - aDate.getTime();\r\n  });\r\n  var csvData = formattedMappedOrders.map((order) => {\r\n    var orderData = [];\r\n    Object.values(order).map((key) => {\r\n      if (key instanceof OrderDrink) {\r\n        Object.values(key.orderDrink).map((drink) => {\r\n          const drinkString = String(drink.quantity) + \"x\" + \" \" + drink.name;\r\n          orderData.push(drinkString);\r\n        });\r\n      } else {\r\n        orderData.push(key);\r\n      }\r\n      return key;\r\n    });\r\n    return orderData;\r\n  });\r\n\r\n  // add row headers\r\n  csvData.unshift(\r\n    Object.keys(formattedMappedOrders[0]).map((key) =>\r\n      // if the key is \"id\" than we want to display an email label\r\n      key === \"_tipPercentage\"\r\n        ? \"Tip %\"\r\n        : toCapitalizedWords(\r\n            // the object keys are the objects private properties so we have to remove the underscores\r\n            key.replace(\"_\", \"\")\r\n          )\r\n    )\r\n  );\r\n  if (formattedMappedOrders) {\r\n    return (\r\n      <TableContainer>\r\n        <Paper className={props.classes.paper}>\r\n          <Row style={{ width: \"100%\", height: \"fit-content\" }}>\r\n            <Col xs={9}>\r\n              <Title style={{ marginLeft: \"auto\", maxWidth: \"15%\" }}>\r\n                Orders\r\n              </Title>\r\n            </Col>\r\n            <Col\r\n              xs={3}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"right\",\r\n                marginBottom: \"0.35em\",\r\n              }}\r\n            >\r\n              <CSVLink data={csvData} style={{ marginLeft: \"auto\" }}>\r\n                Export Data\r\n              </CSVLink>\r\n            </Col>\r\n          </Row>\r\n          <Table className={classes.table} aria-label=\"simple table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell align=\"left\" key={\"row #\"}>\r\n                  Row\r\n                </TableCell>\r\n                {Object.keys(formattedMappedOrders[0]).map((key, i) => (\r\n                  <TableCell align=\"left\" key={i}>\r\n                    {key === \"_tipPercentage\"\r\n                      ? \"Tip %\"\r\n                      : toCapitalizedWords(\r\n                          // the object keys are the objects private properties so we have to remove the underscores\r\n                          key.replace(\"_\", \"\")\r\n                        )}\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {formattedMappedOrders.map((row, i) => (\r\n                <TableRow key={row.id}>\r\n                  <TableCell>{i}</TableCell>\r\n                  {Object.values(row).map((key, i) => {\r\n                    if (key instanceof OrderDrink) {\r\n                      return (\r\n                        <TableCell align=\"left\" key={i}>\r\n                          {Object.values(key.orderDrink).map((drink) => {\r\n                            return (\r\n                              String(drink.quantity) + \"x\" + \" \" + drink.name\r\n                            );\r\n                          })}\r\n                        </TableCell>\r\n                      );\r\n                    } else {\r\n                      return (\r\n                        <TableCell align=\"left\" key={i}>\r\n                          {key}\r\n                        </TableCell>\r\n                      );\r\n                    }\r\n                  })}\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </Paper>\r\n      </TableContainer>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\nexport default Orders;\r\n","C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\listItems.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Businesses.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\HomeSplash.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Title.js",[],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Chart.js",["105"],"C:\\Users\\pdriscoll002\\Documents\\Developer\\backend\\react-app\\src\\pages\\dashboard\\Sales.js",["106","107"],"import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Title from \"./Title\";\r\n\r\nexport default function Deposits(props) {\r\n  return (\r\n    <>\r\n      <Title>\r\n        {props.businessAndInterval === \"Year\"\r\n          ? props.businessAndInterval + \" \" + \"to Date Sales\"\r\n          : props.businessAndInterval + \" \" + \"Sales\"}\r\n      </Title>\r\n      <Typography component=\"p\" variant=\"h4\">\r\n        ${Math.round(props.sales)}\r\n      </Typography>\r\n    </>\r\n  );\r\n}\r\n",{"ruleId":"108","severity":1,"message":"109","line":23,"column":11,"nodeType":"110","messageId":"111","endLine":23,"endColumn":17},{"ruleId":"112","severity":1,"message":"113","line":55,"column":51,"nodeType":"114","messageId":"115","endLine":55,"endColumn":53},{"ruleId":"116","severity":1,"message":"117","line":56,"column":60,"nodeType":"118","messageId":"119","endLine":56,"endColumn":61},{"ruleId":"116","severity":1,"message":"117","line":130,"column":60,"nodeType":"118","messageId":"119","endLine":130,"endColumn":61},{"ruleId":"120","severity":1,"message":"121","line":353,"column":6,"nodeType":"122","endLine":353,"endColumn":17,"suggestions":"123"},{"ruleId":"116","severity":1,"message":"117","line":10,"column":45,"nodeType":"118","messageId":"119","endLine":10,"endColumn":46},{"ruleId":"116","severity":1,"message":"117","line":11,"column":45,"nodeType":"118","messageId":"119","endLine":11,"endColumn":46},"no-unused-vars","'result' is assigned a value but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'prepareData'. Either include it or remove the dependency array.","ArrayExpression",["124"],{"desc":"125","fix":"126"},"Update the dependencies array to be: [formValue, prepareData]",{"range":"127","text":"128"},[13161,13172],"[formValue, prepareData]"]